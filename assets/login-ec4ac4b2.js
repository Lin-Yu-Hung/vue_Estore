import{_ as v,u as g,a as x,l as k,r as p,g as _,b as w,o as y,c as C,d as e,w as d,v as f,e as I,f as b,h as S,i as D,s as u,p as A,j as N}from"./index-5c2d5f69.js";import{l as V}from"./api-adaf9b8d.js";import{e as B}from"./sweetAlert-01ac93b2.js";import{_ as E}from"./e-store-logo-4781a984.js";const L={setup(){const l=g(),s=x(),r=k(),o=p(!1),c=_("userData")?_("userData"):void 0,n=p({username:"",password:""});return c!==void 0&&(n.value=JSON.parse(JSON.stringify(c))),{user:n,login:(t=!1)=>{u("isVisitor",t);const h={username:"zxcv96197@gmail.com",password:"w0928114237"};r.showLoading(),V(t?h:n.value).then(i=>{i.data.success?(o.value&&!t&&u("userData",n.value),u("token",i.data.token),s.query.redirect?l.push(s.query.redirect):l.push("/dashboard/productList")):B("登入失敗","請檢查帳號或密碼是否正確"),r.hideLoading()}).catch(i=>{console.log(i)})},loading:r,rememberAccount:o}}},a=l=>(A("data-v-310e9054"),l=l(),N(),l),M={class:"login-layout"},U=a(()=>e("img",{src:E,alt:"logo"},null,-1)),q={class:"card container-fluid d-center"},J=a(()=>e("h2",{class:"mb-3 fs-4"},"登入你的帳號",-1)),O={class:"mb-3"},P=a(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"電子郵件",-1)),R={class:"mb-3"},j=a(()=>e("label",{for:"exampleInputPassword1",class:"form-label"},"密碼",-1)),z={class:"form-check mb-3"},H=a(()=>e("label",{class:"form-check-label fs-small",for:"exampleCheck1"},"記住帳號密碼",-1)),T=a(()=>e("hr",null,null,-1)),F=a(()=>e("p",{class:"text-center fs-small"},"或者",-1)),G={class:"d-flex"},K=a(()=>e("button",{type:"submit",class:"btn btn-light border ms-1 w-100"}," 回首頁 ",-1));function Q(l,s,r,o,c,n){const m=w("router-link");return y(),C("div",M,[U,e("div",q,[J,e("form",null,[e("div",O,[P,d(e("input",{type:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp","onUpdate:modelValue":s[0]||(s[0]=t=>o.user.username=t)},null,512),[[f,o.user.username]])]),e("div",R,[j,d(e("input",{type:"password",class:"form-control",id:"exampleInputPassword1","onUpdate:modelValue":s[1]||(s[1]=t=>o.user.password=t)},null,512),[[f,o.user.password]])]),e("div",z,[d(e("input",{type:"checkbox",class:"form-check-input",id:"exampleCheck1","onUpdate:modelValue":s[2]||(s[2]=t=>o.rememberAccount=t)},null,512),[[I,o.rememberAccount]]),H]),e("button",{type:"submit",class:"btn btn-primary w-100",onClick:s[3]||(s[3]=b(t=>o.login(),["prevent"]))}," 登入 ")]),T,F,e("div",G,[e("button",{type:"submit",class:"btn btn-light w-50 border me-1",onClick:s[4]||(s[4]=b(t=>o.login(!0),["prevent"]))}," 訪客登入 (無需帳號密碼) "),S(m,{to:"/eStore/home",class:"text-center text-black w-50"},{default:D(()=>[K]),_:1})])])])}const $=v(L,[["render",Q],["__scopeId","data-v-310e9054"]]);export{$ as default};
