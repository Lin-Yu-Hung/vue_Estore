import{e as C,_ as f,f as y,s as L,g as p,o as g,c as v,b as t,h as a,i as _,j as u,F as k,p as S,k as M,a as E,m as I,n as $,q as D}from"./index-f5656a25.js";import{b as q}from"./bootstrap-51ea11c0.js";const x=C("menuStore",{state:()=>({menu:!0}),getters:{menuStatus:n=>n.menu},actions:{showMenu(){this.menu=!0},hideMenu(){this.menu=!1},toggleMenu(){this.menu=!this.menu}}}),b="/vue_Estore/assets/e-store-logo-c5f36752.png";const B={emits:["changeMenuStatus"],setup(n,s){const i=x(),{emit:l}=s,{menuStatus:r}=y(i);return{setCookie:L,setMenuStatus:()=>{l("changeMenuStatus")},menuStatus:r}}},h=n=>(S("data-v-3a77313d"),n=n(),M(),n),N={class:"navbar navbar-expand-md navbar-dark bg-dark px-2 pt-1"},T={class:"container-fluid"},A={class:"navbar-brand p-0"},P=h(()=>t("img",{src:b,class:"menu-logo-mobile lg-up-hide",alt:"logo"},null,-1)),W=h(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasDarkNavbar","aria-controls":"offcanvasDarkNavbar"},[t("span",{class:"navbar-toggler-icon"})],-1)),V={class:"offcanvas offcanvas-end text-bg-dark",tabindex:"-1",id:"offcanvasDarkNavbar","aria-labelledby":"offcanvasDarkNavbarLabel"},j=h(()=>t("div",{class:"md-up-hide d-end p-2"},[t("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),F=h(()=>t("div",{class:"offcanvas-header justify-content-center"},[t("img",{src:b,class:"menu-logo-medium",alt:"logo"})],-1)),R={class:"offcanvas-body d-column align-items-center align-items-md-end"},z={class:"navbar-nav flex-grow-1 md-up-hide"},H={class:"nav-item"},O={class:"nav-item"},Y=h(()=>t("li",{class:"nav-item mt-auto"},null,-1)),G={class:"d-center"},J={class:"dashboard-content"},K=h(()=>t("footer",null,[t("div",{class:"d-between w-100 flex-wrap"},[t("span",null,"Copyright © 2023 YuHung Lin"),t("span",null,"本作品僅作為個人作品使用，不含任何商業行為")])],-1));function Q(n,s,i,l,r,c){const o=p("font-awesome-icon"),e=p("router-link"),d=p("router-view");return g(),v(k,null,[t("nav",N,[t("div",T,[t("div",A,[a(o,{class:"lg-down-hide",icon:l.menuStatus?"fa-arrow-left":"fa-arrow-right",role:"button",onClick:l.setMenuStatus},null,8,["icon","onClick"]),P]),W,t("div",V,[j,F,t("div",R,[t("ul",z,[t("li",H,[a(e,{class:"menu-link","aria-current":"page",to:"productList"},{default:_(()=>[a(o,{icon:"fa-list",role:"button"}),u("產品設定")]),_:1})]),t("li",O,[a(e,{class:"menu-link",to:"orderManage"},{default:_(()=>[a(o,{icon:"fa-cart-shopping",role:"button"}),u("購物車")]),_:1})]),Y]),t("div",G,[a(e,{class:"menu-link",to:"/login",onClick:s[0]||(s[0]=m=>l.setCookie("token",""))},{default:_(()=>[u("登出"),a(o,{icon:"fa-sign-out-alt",class:"ms-2"})]),_:1})])])])])]),t("div",J,[a(d),K])],64)}const U=f(B,[["render",Q],["__scopeId","data-v-3a77313d"]]);const X={setup(){const n=E(),s={},i={};I(()=>n.path,o=>{c()});const l=o=>{const e=o.target.getAttribute("aria-controls");i[e]===void 0&&(i[e]=!0),i[e]&&o.target.classList.toggle("show"),i[e]=!1,setTimeout(()=>{i[e]=!0},350)},r=(o,e=null)=>{if(e)for(const d in s)d!==e&&s[d][o]();else for(const d in s)s[d][o]()},c=async()=>{await D();const e=document.querySelector(".router-link-active").parentElement;if(document.querySelectorAll(".dropdown-title").forEach(m=>{m.classList.remove("show"),m.classList.remove("active")}),e.classList.contains("collapse-item")){const m=e.getAttribute("parentId"),w=document.querySelector(`[aria-controls=${m}]`);r("hide",m),w.classList.add("active"),w.classList.add("show"),s[m].show()}else r("hide")};return $(()=>{document.querySelectorAll(".collapse").forEach(e=>{s[e.id]=q(e.id)}),c()}),{toggleStatus:l}}},Z=n=>(S("data-v-fe5f5042"),n=n(),M(),n),tt=Z(()=>t("div",{class:"px-2 d-center"},[t("img",{src:b,class:"menu-logo",alt:""})],-1)),et={class:"menuList"},ot={class:"dropdown-list lg-down-hide"},nt={class:"pe-none"},st={class:"collapse multi-collapse",id:"productSetting"},at={class:"collapse-item",parentId:"productSetting"},ct={class:"collapse-item",parentId:"productSetting"},lt={class:"collapse-item",parentId:"productSetting"};function it(n,s,i,l,r,c){const o=p("font-awesome-icon"),e=p("router-link");return g(),v(k,null,[tt,t("ul",et,[t("li",null,[a(e,{class:"menu-link lg-down-hide",to:"home"},{default:_(()=>[a(o,{class:"lg-down-hide",icon:"fa-home",role:"button"}),u("首頁")]),_:1})]),t("li",ot,[t("div",{class:"dropdown-title",onClick:s[0]||(s[0]=(...d)=>l.toggleStatus&&l.toggleStatus(...d)),"data-bs-toggle":"collapse","data-bs-target":"#productSetting","aria-expanded":"false","aria-controls":"productSetting"},[t("span",nt,[a(o,{class:"lg-down-hide",icon:"fa-list",role:"button"}),u("產品設定 ")]),a(o,{class:"lg-down-hide dropdown-arrow pe-none",icon:"fa-chevron-right"})]),t("div",st,[t("ul",null,[t("li",at,[a(e,{class:"menu-link lg-down-hide",to:"setProduct"},{default:_(()=>[u("建立商品")]),_:1})]),t("li",ct,[a(e,{class:"menu-link lg-down-hide",to:"editProduct"},{default:_(()=>[u("修改商品")]),_:1})]),t("li",lt,[a(e,{class:"menu-link lg-down-hide",to:"productList"},{default:_(()=>[u("商品列表")]),_:1})])])])]),t("li",null,[a(e,{class:"menu-link lg-down-hide",to:"orderManage"},{default:_(()=>[a(o,{class:"lg-down-hide",icon:"fa-cart-shopping",role:"button"}),u("購物車")]),_:1})])])],64)}const dt=f(X,[["render",it],["__scopeId","data-v-fe5f5042"]]),rt={components:{DashboardContent:U,Menu:dt},setup(){const n=x(),{menuStatus:s}=y(n),i=()=>{const c=document.getElementById("dashboard-menu"),o=document.getElementById("dashboard-content-layout"),e=document.querySelector(".menuList");c.style.width=0,o.style.marginLeft=0,o.style.width="100%",e.style.display="none",n.hideMenu()},l=()=>{const c=document.getElementById("dashboard-content-layout"),o=window.outerWidth,e=document.querySelector(".menuList");if(c.style.marginLeft="250px",c.style.width=`${o-250}px`,e.style.display="block",!s.value){const d=document.getElementById("dashboard-menu");d.style.width="250px",n.showMenu()}},r=()=>s.value?i():l();return $(()=>{window.addEventListener("resize",()=>{setTimeout(()=>{let c=window.innerWidth;c>window.screen.width&&(c=window.screen.width),c<992&&s.value?i():c>992&&l()},200)})}),{changeMenuStatus:r}}},ut={class:"d-flex"},_t={class:"dashboard-menu",id:"dashboard-menu"},mt={class:"dashboard-content-layout",id:"dashboard-content-layout"};function pt(n,s,i,l,r,c){const o=p("Menu"),e=p("DashboardContent");return g(),v("div",ut,[t("div",_t,[a(o)]),t("div",mt,[a(e,{onChangeMenuStatus:l.changeMenuStatus},null,8,["onChangeMenuStatus"])])])}const gt=f(rt,[["render",pt]]);export{gt as default};
