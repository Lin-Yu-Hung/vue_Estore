import{_ as w,a as D,u as y,l as S,r as k,t as h,o as _,c as u,b as e,h as c,i as p,y as o,F as I,z as L,j as O,x as f,p as C,f as T}from"./index-7c4ca542.js";import{k as N}from"./api-1ae64448.js";import{e as b}from"./sweetAlert-aa2576e6.js";import{t as V}from"./date-44c8fab1.js";const B="/vue_Estore/assets/check-08f0f835.png";const E={setup(r){const m=D(),n=y(),t=S(),d=k(null);return(async()=>{const a=m.params.orderId;t.showLoading();try{const s=await N(a);console.log(s),s.data.success&&s.data.order?d.value=s.data.order:(b("無此訂單"),setTimeout(()=>{n.push("/eStore/home")},2e3))}catch(s){console.log(s),b("發生錯誤"),setTimeout(()=>{n.push("/eStore/home")},2e3)}finally{t.hideLoading()}})(),{orderDetail:d,timestampToYMD:V}}},l=r=>(C("data-v-ba4d3987"),r=r(),T(),r),F={key:0,class:"card shadow p-3 my-4"},M={class:"d-between"},R=l(()=>e("div",{class:"d-center flex-column align-items-center vh-30 mt-3"},[e("img",{src:B,alt:"check",class:"check mb-3"}),e("h2",null,"訂單已完成"),e("p",null,"感謝您的購買，您的訂單我們已經收到了。")],-1)),Y=l(()=>e("h2",{class:"border-bottom fs-title pb-3 fw-bold mt-3"},"訂單資訊",-1)),j={class:"d-flex flex-wrap text-nowrap"},q={class:"flex-grow-1 mb-0"},z={class:"flex-grow-1 mb-0"},A=l(()=>e("h2",{class:"border-bottom fs-title pb-3 mt-5 fw-bold"},"訂單內容",-1)),G={class:"table-responsive"},H={class:"table table-hover mb-5"},J=l(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col",class:"text-center"},"排序"),e("th",{scope:"col"},"商品名稱"),e("th",{scope:"col",class:"text-end"},"數量"),e("th",{scope:"col",class:"text-end"},"單價"),e("th")])],-1)),K={class:"text-center"},P={class:"text-end"},Q={class:"text-end"},U=l(()=>e("td",null,null,-1));function W(r,m,n,t,d,x){const a=h("font-awesome-icon"),s=h("router-link");return t.orderDetail?(_(),u("div",F,[e("div",M,[c(s,{to:"/eStore/home",class:"text-secondary text-underline-hover",role:"button"},{default:p(()=>[c(a,{icon:"fa-arrow-left",class:"me-1"}),f("回首頁")]),_:1}),c(s,{to:"/eStore/userOrder",class:"text-secondary text-underline-hover",role:"button"},{default:p(()=>[f("查看所有訂單"),c(a,{icon:"fa-arrow-right",class:"ms-1"})]),_:1})]),R,Y,e("div",j,[e("ul",q,[e("li",null,"姓名："+o(t.orderDetail.user.name),1),e("li",null,"電話："+o(t.orderDetail.user.tel),1),e("li",null,"地址："+o(t.orderDetail.user.address),1),e("li",null,"電子信箱："+o(t.orderDetail.user.email),1)]),e("ul",z,[e("li",null,"訂單編號："+o(t.orderDetail.id),1),e("li",null,"訂單日期："+o(t.timestampToYMD(t.orderDetail.create_at)),1),e("li",null,"訂單金額："+o(t.orderDetail.total.toLocaleString()),1),e("li",null,"備註："+o(t.orderDetail.message),1)])]),A,e("div",G,[e("table",H,[J,e("tbody",null,[(_(!0),u(I,null,L(t.orderDetail.products,(i,g,v)=>(_(),u("tr",{key:g},[e("td",K,o(v+1),1),e("td",null,o(i.product.title),1),e("td",P,o(i.qty.toLocaleString()),1),e("td",Q,o(i.final_total.toLocaleString()),1),U]))),128))])])])])):O("",!0)}const te=w(E,[["render",W],["__scopeId","data-v-ba4d3987"]]);export{te as default};
