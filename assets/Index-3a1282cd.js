import{e as B,_ as b,a as M,r as N,f as x,g as C,h as m,o as h,c as w,b as e,i as d,j as f,k as p,n as S,m as $,s as A,p as L,q as E,F as T,t as q,x as W}from"./index-b60af912.js";import{b as P,a as V}from"./bootstrap-fb879fcf.js";const I=B("menuStore",{state:()=>({menu:!0}),getters:{menuStatus:c=>c.menu},actions:{showMenu(){this.menu=!0},hideMenu(){this.menu=!1},toggleMenu(){this.menu=!this.menu}}});const j={setup(){const c=M(),s={},l={},n=N(null);x(()=>c.path,t=>{a()});const _=t=>{const o=t.target.getAttribute("aria-controls");l[o]===void 0&&(l[o]=!0),l[o]&&t.target.classList.toggle("show"),l[o]=!1,setTimeout(()=>{l[o]=!0},350)},i=(t,o=null)=>{if(o)for(const r in s)r!==o&&s[r][t]();else for(const r in s)s[r][t]()},a=async()=>{await S();const o=document.querySelector(".router-link-active").parentElement,r=u=>{u.forEach(g=>{g.classList.remove("show"),g.classList.remove("active")})};if(o.classList.contains("collapse-item")){const u=o.getAttribute("parentId");if(n.value!==u){n.value=u;const g=document.querySelectorAll(".dropdown-title:not(.show)");r(g);const y=document.querySelector(`[aria-controls=${u}]`);i("hide",u),await S(),setTimeout(()=>{y.classList.add("active"),y.classList.add("show"),s[u].show()},100)}}else{const u=document.querySelectorAll(".dropdown-title");r(u),i("hide"),n.value=null}};return C(()=>{document.querySelectorAll(".collapse").forEach(o=>{s[o.id]=P(o.id)}),a()}),{toggleStatus:_}}},F={class:"menuList"},O={class:"dropdown-list"},R={class:"pe-none"},z={class:"collapse multi-collapse",id:"productSetting"},H={class:"collapse-item",parentId:"productSetting"},Y={class:"collapse-item",parentId:"productSetting"},G={class:"collapse-item",parentId:"productSetting"};function J(c,s,l,n,_,i){const a=m("font-awesome-icon"),t=m("router-link");return h(),w("ul",F,[e("li",null,[d(t,{class:"menu-link",to:"home"},{default:f(()=>[d(a,{class:"",icon:"fa-home",role:"button"}),p("首頁")]),_:1})]),e("li",O,[e("div",{class:"dropdown-title",onClick:s[0]||(s[0]=(...o)=>n.toggleStatus&&n.toggleStatus(...o)),"data-bs-toggle":"collapse","data-bs-target":"#productSetting","aria-expanded":"false","aria-controls":"productSetting"},[e("span",R,[d(a,{class:"",icon:"fa-list",role:"button"}),p("產品設定 ")]),d(a,{class:"dropdown-arrow pe-none",icon:"fa-chevron-right"})]),e("div",z,[e("ul",null,[e("li",H,[d(t,{class:"menu-link",to:"setProduct"},{default:f(()=>[p("建立商品")]),_:1})]),e("li",Y,[d(t,{class:"menu-link",to:"editProduct"},{default:f(()=>[p("修改商品")]),_:1})]),e("li",G,[d(t,{class:"menu-link",to:"productList"},{default:f(()=>[p("商品列表")]),_:1})])])])]),e("li",null,[d(t,{class:"menu-link",to:"orderManage"},{default:f(()=>[d(a,{class:"",icon:"fa-cart-shopping",role:"button"}),p("購物車")]),_:1})])])}const D=b(j,[["render",J],["__scopeId","data-v-1d191936"]]),k="/vue_Estore/assets/e-store-logo-c5f36752.png";const K={components:{MenuList:D},emits:["changeMenuStatus"],setup(c,s){const l=M();x(()=>l.path,t=>{if(window.innerWidth<992){V("offcanvasDarkNavbar").hide();const o=document.getElementById("offcanvasDarkNavbar");document.querySelector(".offcanvas-backdrop").remove(),o.classList.remove("show"),document.body.removeAttribute("data-bs-overflow"),document.body.removeAttribute("data-bs-padding-right"),document.body.style=""}});const n=I(),{emit:_}=s,{menuStatus:i}=$(n);return window.innerWidth<992?n.hideMenu():n.showMenu(),{setCookie:A,setMenuStatus:()=>{_("changeMenuStatus")},menuStatus:i}}},v=c=>(q("data-v-dfd3bdb4"),c=c(),W(),c),Q={class:"navbar navbar-expand-lg navbar-dark bg-dark px-2 pt-1"},U={class:"container-fluid"},X={class:"navbar-brand p-0"},Z=v(()=>e("img",{src:k,class:"menu-logo-mobile lg-up-hide",alt:"logo"},null,-1)),ee=v(()=>e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasDarkNavbar","aria-controls":"offcanvasDarkNavbar"},[e("span",{class:"navbar-toggler-icon"})],-1)),te={class:"offcanvas offcanvas-end text-bg-dark",tabindex:"-1",id:"offcanvasDarkNavbar","aria-labelledby":"offcanvasDarkNavbarLabel"},oe=v(()=>e("div",{class:"lg-up-hide d-end p-2"},[e("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),se=v(()=>e("div",{class:"offcanvas-header justify-content-center"},[e("img",{src:k,class:"menu-logo-medium",alt:"logo"})],-1)),ne={class:"offcanvas-body d-column align-items-center align-items-lg-end"},ae={class:"navbar-nav flex-grow-1 lg-up-hide w-100"},ce={class:"d-center"},le={class:"dashboard-content"},ie=v(()=>e("footer",null,[e("div",{class:"d-between w-100 flex-wrap"},[e("span",null,"Copyright © 2023 YuHung Lin"),e("span",null,"本作品僅作為個人作品使用，不含任何商業行為")])],-1));function de(c,s,l,n,_,i){const a=m("font-awesome-icon"),t=m("MenuList"),o=m("router-link"),r=m("router-view");return h(),w(T,null,[e("nav",Q,[e("div",U,[e("div",X,[d(a,{class:"lg-down-hide",icon:n.menuStatus?"fa-arrow-left":"fa-arrow-right",role:"button",onClick:n.setMenuStatus},null,8,["icon","onClick"]),Z]),ee,e("div",te,[oe,se,e("div",ne,[e("div",ae,[n.menuStatus?E("",!0):(h(),L(t,{key:0}))]),e("div",ce,[d(o,{class:"menu-link",to:"/login",onClick:s[0]||(s[0]=u=>n.setCookie("token",""))},{default:f(()=>[p("登出"),d(a,{icon:"fa-sign-out-alt",class:"ms-2"})]),_:1})])])])])]),e("div",le,[d(r),ie])],64)}const re=b(K,[["render",de],["__scopeId","data-v-dfd3bdb4"]]),ue={components:{DashboardContent:re,MenuList:D},setup(){const c=I(),{menuStatus:s}=$(c);window.innerWidth<992?c.hideMenu():c.showMenu();const l=i=>{const a=document.getElementById("dashboard-content-layout");if(i==="show"){const t=window.outerWidth;if(a.style.marginLeft="250px",a.style.width=`${t-250}px`,!s.value){const o=document.getElementById("dashboard-menu");o.style.width="250px",c.showMenu()}}else{const t=document.getElementById("dashboard-menu");t.style.width=0,a.style.marginLeft=0,a.style.width="100%",c.hideMenu()}},n=()=>{let i=window.innerWidth;i>window.screen.width&&(i=window.screen.width),i<992&&s.value?l("hide"):i>992&&l("show")},_=()=>s.value?l("hide"):l("show");return C(()=>{window.addEventListener("resize",()=>{setTimeout(()=>{n()},200)})}),{changeMenuStatus:_,menuStatus:s}}},_e={class:"d-flex"},me={class:"dashboard-menu",id:"dashboard-menu"},pe=e("div",{class:"px-2 d-center"},[e("img",{src:k,class:"menu-logo",alt:""})],-1),fe={class:"dashboard-content-layout",id:"dashboard-content-layout"};function he(c,s,l,n,_,i){const a=m("MenuList"),t=m("DashboardContent");return h(),w("div",_e,[e("div",me,[pe,n.menuStatus?(h(),L(a,{key:0})):E("",!0)]),e("div",fe,[d(t,{onChangeMenuStatus:n.changeMenuStatus},null,8,["onChangeMenuStatus"])])])}const be=b(ue,[["render",he]]);export{be as default};
