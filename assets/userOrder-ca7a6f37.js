import{j as b}from"./api-4070729c.js";import{_ as g,r as x,l as f,t as y,o as n,c as l,b as t,h as v,x as w,F as h,z as u,y as o,p as S,f as O}from"./index-b2cc45bb.js";import{t as k}from"./date-44c8fab1.js";import"./sweetAlert-c19bab2b.js";const L={setup(c){const r=x([]),i=f();return(async(p=1)=>{i.showLoading();try{const a=await b(p);console.log(a),a.data.success&&(r.value=[...a.data.orders])}catch(a){console.log(a)}finally{i.hideLoading()}})(),{orders:r,timestampToYMD:k}}},d=c=>(S("data-v-5acc6e41"),c=c(),O(),c),$={class:"card shadow my-3 p-3"},I={class:"fs-title mb-3"},B={class:"accordion",id:"accordionExample"},D=["data-bs-target","aria-controls"],E={class:"border-end pe-2 pe-md-4"},N={class:"border-end pe-4 ms-4 mobile-hide"},T=d(()=>t("span",{class:"arrow-text"}," 詳細資訊 ",-1)),V=["id"],j={class:"accordion-body"},F={class:"d-between pb-2 border-bottom flex-wrap"},M={class:"fs-6 text-end"},Y={class:"table-responsive"},q={class:"table table-hover"},z=d(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-center mobile-hide"},"商品圖片"),t("th",null,"商品名稱"),t("th",{class:"text-end"},"數量"),t("th",{class:"text-end"},"單價"),t("th")])],-1)),C={class:"text-center mobile-hide"},G=["src","alt","title"],U={class:"text-end"},A={class:"text-end"},H=d(()=>t("td",null,null,-1)),J=d(()=>t("hr",null,null,-1));function K(c,r,i,_,p,a){const m=y("font-awesome-icon");return n(),l("div",$,[t("h2",I,[v(m,{icon:"fa-file-lines",role:"button"}),w("我的訂單 ")]),t("div",B,[(n(!0),l(h,null,u(_.orders,s=>(n(),l("div",{class:"accordion-item d-column align-items-end",key:s.id},[t("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${s.id}`,"aria-expanded":"true","aria-controls":`collapse${s.id}`},[t("span",E," 訂單日期："+o(_.timestampToYMD(s.create_at)),1),t("span",N," 品項："+o(Object.keys(s.products).length),1),T],8,D),t("div",{id:`collapse${s.id}`,class:"accordion-collapse collapse w-100","data-bs-parent":"#accordionExample"},[t("div",j,[t("div",F,[t("span",null," 訂單編號："+o(s.id),1),t("h2",M," 訂單金額："+o(s.total.toLocaleString()),1)]),t("div",Y,[t("table",q,[z,t("tbody",null,[(n(!0),l(h,null,u(s.products,e=>(n(),l("tr",{key:e.id},[t("td",C,[t("img",{style:{width:"100px",height:"100px"},src:e.product.imageUrl,alt:e.product.title,title:e.product.title},null,8,G)]),t("td",null,o(e.product.title),1),t("td",U,o(e.qty),1),t("td",A,o(e.product.price.toLocaleString()),1),H]))),128))])])]),J])],8,V)]))),128))])])}const X=g(L,[["render",K],["__scopeId","data-v-5acc6e41"]]);export{X as default};
