import{_ as E,r as d,C as U,m as J,t as O,k as K,o as t,c as o,b as e,F as r,A as _,w as y,v as N,z as B,h as f,n as w,E as R,D as j,i as F,G,B as m,j as T,e as L,H,p as Q,f as A}from"./index-f45ec150.js";const q={setup(g){const l=d("cell"),P=d(""),s=d(""),S=(c,i)=>(i&&(c=c.sort((v,C)=>i==="desc"?C.price-v.price:i==="asc"?v.price-C.price:v.title-C.title)),c),x=U("productList"),p=U("productCategoryList"),a=d([]),b=d(1);J(x,c=>a.value=JSON.parse(JSON.stringify(c)));const h=d([]);J(p,c=>h.value=JSON.parse(JSON.stringify(c)));const V=d(""),D=d(""),W=()=>{const c=parseInt(V.value),i=parseInt(D.value);if(isNaN(c)&&isNaN(i)){a.value=JSON.parse(JSON.stringify(x.value));return}a.value=x.value.filter(v=>!isNaN(c)&&!isNaN(i)?v.price>=c&&v.price<=i:isNaN(c)?v.price<=i:v.price>=c)},k=d([]),M=O(()=>{k.value=a.value.filter(i=>i.title.match(P.value)&&h.value.includes(i.category));const c=S(k.value,s.value);return k.value.length<u.value?c:c.slice(b.value*u.value-u.value,b.value*u.value)}),z=O(()=>Math.ceil(k.value.length/u.value)),I=()=>window.innerWidth>=1600?16:window.innerWidth>=768?12:8,u=d(I());return window.addEventListener("resize",c=>{u.value=I()}),{productList:x,productCategoryList:p,sortType:s,showType:l,productKeyWord:P,showData:M,filterCategory:h,minPrice:V,maxPrice:D,filterPrice:W,filterProductList:a,pageCount:z,nowPage:b}}},n=g=>(Q("data-v-4b52eaa2"),g=g(),A(),g),X=L('<nav aria-label="breadcrumb" class="mt-3 border-bottom pb-2" data-v-4b52eaa2><ol class="breadcrumb" data-v-4b52eaa2><li class="breadcrumb-item" data-v-4b52eaa2><a href="#" data-v-4b52eaa2>Home</a></li><li class="breadcrumb-item" data-v-4b52eaa2><a href="#" data-v-4b52eaa2>Library</a></li><li class="breadcrumb-item active" aria-current="page" data-v-4b52eaa2>Data</li></ol></nav>',1),Y={class:"container-fluid"},Z={class:"row"},$={class:"col-lg-3 pt-3 ps-lg-0"},ee={class:"card shadow p-3"},ae=n(()=>e("h2",{class:"fs-5 border-bottom pb-2"},"分類",-1)),se=["value","id"],le=["for"],te=n(()=>e("label",{for:"customRange1",class:"form-label fs-5 border-bottom pb-2 mt-3"},"價格",-1)),oe={class:"mb-3 d-center flex-column"},ce=n(()=>e("div",{class:"d-flex"},[e("label",{for:"minPrice",class:"form-label mb-1 fs-small flex-grow-1 me-4"},"最低價格"),e("label",{for:"maxPrice",class:"form-label mb-1 fs-small flex-grow-1"},"最高價格")],-1)),ne={class:"d-flex"},ie=n(()=>e("span",{class:"mx-1"},"~",-1)),re=L('<div class="placeholder-glow" data-v-4b52eaa2><span class="placeholder mb-2 col-8" data-v-4b52eaa2></span><span class="placeholder mb-2 col-6" data-v-4b52eaa2></span></div><div class="placeholder-glow" data-v-4b52eaa2><span class="placeholder mb-2 col-5" data-v-4b52eaa2></span></div><div class="placeholder-glow" data-v-4b52eaa2><span class="placeholder mb-2 col-7" data-v-4b52eaa2></span><span class="placeholder mb-2 col-7" data-v-4b52eaa2></span><span class="placeholder mb-2 col-6" data-v-4b52eaa2></span><span class="placeholder mb-2 col-8" data-v-4b52eaa2></span><span class="placeholder mb-2 col-8" data-v-4b52eaa2></span><span class="placeholder mb-2 col-10" data-v-4b52eaa2></span></div><h2 class="fs-5 border-bottom pb-2 mt-3" data-v-4b52eaa2>價格</h2><div class="placeholder-glow" data-v-4b52eaa2><div class="d-between align-items-center" data-v-4b52eaa2><span class="placeholder col p-3 rounded" data-v-4b52eaa2></span><span class="col-1 d-center" data-v-4b52eaa2>~</span><span class="placeholder col p-3 rounded" data-v-4b52eaa2></span></div><span class="placeholder col-12 p-2 rounded mt-3" data-v-4b52eaa2>篩選</span></div>',5),de={class:"col-lg pt-3 mobile-px-0"},me={class:"container-fluid product-list"},pe=n(()=>e("h2",{class:"fs-3 mb-3"},"所有商品",-1)),be={class:"d-flex mb-3 border rounded align-items-center bg-light flex-column flex-lg-row"},ve={class:"w-25 lg-down-w-100 p-2 text-nowrap"},he={class:"flex-grow-1 d-between p-2 flex-column flex-md-row lg-down-w-100"},_e={class:"d-flex align-items-center w-40 mb-2 mb-md-0 mobile-w-100"},ue=n(()=>e("label",{class:"form-check-label text-nowrap me-3",for:"sortType"}," 排序方式 ",-1)),fe=n(()=>e("option",{selected:"",disabled:"",value:""},"排序方式",-1)),we=n(()=>e("option",{value:"title"},"文字排序",-1)),ge=n(()=>e("option",{value:"asc"},"價格由低至高",-1)),xe=n(()=>e("option",{value:"desc"},"價格由高到低",-1)),ye=[fe,we,ge,xe],ke={class:"input-group d-center align-items-center rounded-pill border bg-white w-50 mobile-w-100"},Pe={class:"card"},Ce={class:"d-center"},Ne=["src","alt","title"],Te={class:"card-body p-2 p-sm-3"},Le={class:"card-title line-clamp-2 fs-6 fs-md-large"},Se={class:"d-flex mb-3"},Ve={class:"card-text card-text-cell fs-small text-secondary line-clamp-3 mb-1"},De={key:0,class:"text-end mb-2 fs-5"},Ie=n(()=>e("button",{class:"btn btn-primary-median w-100"}," 加入購物車 ",-1)),Ue={class:"row g-0"},Je={class:"col-5 col-md-4 col-xl-3 col-xxxl-2 d-center flex-column border-end"},Oe=["src","alt","title"],Be={class:"col"},We={class:"card-body d-between flex-column h-100"},Me={class:"d-column"},ze={class:"mb-2 mb-md-3 line-clamp-2 fs-6 fs-md-large"},Ee={class:"d-flex mb-2 mb-md-3"},Ke={class:"card-text card-text-row fs-small text-secondary line-clamp-3 mb-2 w-50 xl-down-w-100 mobile-w-100"},Re={class:"d-column align-items-end"},je={key:0,class:"text-end fs-4 mb-2"},Fe=n(()=>e("button",{class:"btn btn-primary-median w-25 xl-down-w-50 mobile-w-100"}," 加入購物車 ",-1)),Ge={key:1,class:"text-center mt-5 pt-5"},He={key:1,class:"row row-cols-2 row-cols-md-3 row-cols-xxxl-4 g-3"},Qe=L('<div class="card" aria-hidden="true" data-v-4b52eaa2><div class="card-img-top bg-secondary" style="height:180px;" data-v-4b52eaa2></div><div class="card-body" data-v-4b52eaa2><h5 class="card-title placeholder-glow" data-v-4b52eaa2><span class="placeholder col-6" data-v-4b52eaa2></span></h5><p class="card-text placeholder-glow" data-v-4b52eaa2><span class="placeholder col-7" data-v-4b52eaa2></span><span class="placeholder col-4" data-v-4b52eaa2></span><span class="placeholder col-4" data-v-4b52eaa2></span><span class="placeholder col-6" data-v-4b52eaa2></span><span class="placeholder col-8" data-v-4b52eaa2></span></p><a class="btn btn-primary disabled placeholder col-6" aria-disabled="true" data-v-4b52eaa2></a></div></div>',1),Ae=[Qe],qe={key:2,"aria-label":"Page navigation example",class:"my-3 d-end"},Xe={class:"pagination"},Ye=["onClick"];function Ze(g,l,P,s,S,x){const p=K("font-awesome-icon");return t(),o(r,null,[X,e("div",Y,[e("div",Z,[e("div",$,[e("div",ee,[ae,s.productCategoryList.length>0?(t(),o(r,{key:0},[(t(!0),o(r,null,_(s.productCategoryList,a=>(t(),o("div",{class:"form-check mb-2",key:a},[y(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":l[0]||(l[0]=b=>s.filterCategory=b),value:a,id:a,name:"category",role:"button"},null,8,se),[[H,s.filterCategory]]),e("label",{class:"form-check-label",role:"button",for:a},m(a),9,le)]))),128)),te,e("div",oe,[ce,e("div",ne,[y(e("input",{type:"number",class:"form-control form-control-sm",id:"minPrice","onUpdate:modelValue":l[1]||(l[1]=a=>s.minPrice=a),placeholder:"請輸入最低價格"},null,512),[[N,s.minPrice]]),ie,y(e("input",{type:"number",class:"form-control form-control-sm",id:"maxPrice","onUpdate:modelValue":l[2]||(l[2]=a=>s.maxPrice=a),placeholder:"請輸入最高價格"},null,512),[[N,s.maxPrice]])]),e("button",{class:"btn btn-primary-median mt-3",onClick:l[3]||(l[3]=(...a)=>s.filterPrice&&s.filterPrice(...a))}," 篩選 ")])],64)):(t(),o(r,{key:1},[re],64))])]),e("div",de,[e("div",me,[pe,e("div",be,[e("div",ve,[B(" 顯示方式 "),f(p,{role:"button",icon:"fa-border-all",class:w(["mx-2 showTypeIcon",{"text-primary":s.showType==="cell"}]),onClick:l[4]||(l[4]=a=>s.showType="cell")},null,8,["class"]),f(p,{role:"button",icon:"fa-list",class:w(["showTypeIcon",{"text-primary":s.showType==="row"}]),onClick:l[5]||(l[5]=a=>s.showType="row")},null,8,["class"])]),e("div",he,[e("div",_e,[ue,y(e("select",{id:"sortType",class:"form-select","onUpdate:modelValue":l[6]||(l[6]=a=>s.sortType=a)},ye,512),[[R,s.sortType]])]),e("div",ke,[y(e("input",{type:"text",class:"form-control rounded-pill border-0 ps-3",placeholder:"輸入商品關鍵字","onUpdate:modelValue":l[7]||(l[7]=a=>s.productKeyWord=a)},null,512),[[N,s.productKeyWord]]),f(p,{class:"px-3",icon:"fa-search",role:"button"})])])]),s.productList.length>0?(t(),o(r,{key:0},[s.showData.length>0?(t(),j(G,{key:0,name:"list",tag:"div",class:w({"row row-cols-2 row-cols-md-3 row-cols-xxxl-4 g-3":s.showType==="cell"})},{default:F(()=>[s.showType==="cell"?(t(!0),o(r,{key:0},_(s.showData,a=>(t(),o("div",{class:"col",key:a.id},[e("div",Pe,[e("div",Ce,[e("img",{src:a.imageUrl,class:"card-img-top product-img",alt:a.title,title:a.title},null,8,Ne)]),e("div",Te,[e("h5",Le,m(a.title),1),e("div",Se,[(t(),o(r,null,_(4,(b,h)=>f(p,{key:h,class:"fs-large m-0 text-warning",icon:"fa-star",role:"button"})),64))]),e("p",Ve,m(a.description),1),a.price?(t(),o("p",De," $ "+m(a.price.toLocaleString()),1)):T("",!0),Ie])])]))),128)):(t(!0),o(r,{key:1},_(s.showData,a=>(t(),o("div",{class:"card mb-3",key:a.id},[e("div",Ue,[e("div",Je,[e("img",{src:a.imageUrl,class:"card-img-top",alt:a.title,title:a.title},null,8,Oe)]),e("div",Be,[e("div",We,[e("div",Me,[e("h5",ze,m(a.title),1),e("div",Ee,[(t(),o(r,null,_(4,(b,h)=>f(p,{key:h,class:"fs-large m-0 text-warning",icon:"fa-star",role:"button"})),64))]),e("p",Ke,m(a.description),1)]),e("div",Re,[a.price?(t(),o("p",je," $ "+m(a.price.toLocaleString()),1)):T("",!0),Fe])])])])]))),128))]),_:1},8,["class"])):(t(),o("h2",Ge,[B(" 查無條件無結果 "),f(p,{class:"ms-2",icon:"fa-face-frown"})]))],64)):(t(),o("div",He,[(t(),o(r,null,_(8,a=>e("div",{class:"col",key:a},Ae)),64))])),s.pageCount>1?(t(),o("nav",qe,[e("ul",Xe,[e("li",{class:w(["page-item",{"d-none":s.nowPage===1}])},[e("a",{class:"page-link rounded-circle",onClick:l[8]||(l[8]=a=>--s.nowPage)},m("<<"))],2),(t(!0),o(r,null,_(s.pageCount,a=>(t(),o("li",{class:"page-item",key:a},[e("a",{class:w(["page-link rounded-circle",{active:s.nowPage===a}]),onClick:b=>s.nowPage=a},m(a),11,Ye)]))),128)),e("li",{class:w(["page-item",{"d-none":s.nowPage===s.pageCount}])},[e("a",{class:"page-link rounded-circle",onClick:l[9]||(l[9]=a=>++s.nowPage)},m(">>"))],2)])])):T("",!0)])])])])],64)}const ea=E(q,[["render",Ze],["__scopeId","data-v-4b52eaa2"]]);export{ea as default};
