import{_ as Q,r as v,C as J,m as O,a as A,t as B,k as K,o as a,c,b as e,h as p,i as T,F as d,z as _,A as u,w as h,v as y,n as x,E as R,D as H,G as q,B as b,j as V,e as U,H as M,p as X,f as Y}from"./index-bc9b52c7.js";import{t as z}from"./translate-28289832.js";const Z={setup(k){const o=v("cell"),L=v(""),l=v(""),I=(n,i)=>(i&&(n=n.sort((m,S)=>i==="desc"?S.price-m.price:i==="asc"?m.price-S.price:m.title-S.title)),n),C=J("productList"),w=J("productCategoryList"),r=v([]),s=v(1);O(C,n=>r.value=JSON.parse(JSON.stringify(n)),{immediate:!0});const f=v([]),P=A();O([P,w],([n,i])=>{const m=n.params.category;!m||!z(m)?f.value=JSON.parse(JSON.stringify(i)):f.value=[z(m)]},{immediate:!0});const D=v(""),F=v(""),E=()=>{const n=parseInt(D.value),i=parseInt(F.value);if(isNaN(n)&&isNaN(i)){r.value=JSON.parse(JSON.stringify(C.value));return}r.value=C.value.filter(m=>!isNaN(n)&&!isNaN(i)?m.price>=n&&m.price<=i:isNaN(n)?m.price<=i:m.price>=n)},N=v([]),j=B(()=>{N.value=r.value.filter(i=>i.title.match(L.value)&&f.value.includes(i.category));const n=I(N.value,l.value);return N.value.length<g.value?n:n.slice(s.value*g.value-g.value,s.value*g.value)}),G=B(()=>Math.ceil(N.value.length/g.value)),W=()=>window.innerWidth>=1600?16:window.innerWidth>=768?12:8,g=v(W());return window.addEventListener("resize",n=>{g.value=W()}),{productList:C,productCategoryList:w,sortType:l,showType:o,productKeyWord:L,showData:j,filterCategory:f,minPrice:D,maxPrice:F,filterPrice:E,filterProductList:r,pageCount:G,nowPage:s}}},t=k=>(X("data-v-fccec26b"),k=k(),Y(),k),$={"aria-label":"breadcrumb",class:"mt-3 border-bottom pb-2"},ee={class:"breadcrumb"},se={class:"breadcrumb-item"},le=t(()=>e("li",{class:"breadcrumb-item active","aria-current":"page"},"商品列表",-1)),oe={class:"container-fluid"},ae={class:"row"},ce={class:"col-xl-3 pt-3 px-0 xl-down-hide"},te={class:"card shadow p-3"},ne=t(()=>e("h2",{class:"fs-5 border-bottom pb-2"},"分類",-1)),re={class:"container-fluid"},de={class:"row row-cols-3 row-cols-lg-1 row-cols-xl-2 row-cols-xxxl-3 g-2 my-2"},ie={class:"form-check"},pe=["value","id"],me=["for"],fe=t(()=>e("label",{for:"customRange1",class:"form-label fs-5 border-bottom pb-2 mt-3"},"價格",-1)),be={class:"mb-3 d-center flex-column"},ve=t(()=>e("div",{class:"d-flex"},[e("label",{for:"minPrice",class:"form-label mb-1 fs-small flex-grow-1 me-4"},"最低價格"),e("label",{for:"maxPrice",class:"form-label mb-1 fs-small flex-grow-1"},"最高價格")],-1)),he={class:"d-flex"},_e=t(()=>e("span",{class:"mx-1"},"~",-1)),ue=U('<div class="placeholder-glow" data-v-fccec26b><span class="placeholder mb-2 col-8" data-v-fccec26b></span><span class="placeholder mb-2 col-6" data-v-fccec26b></span></div><div class="placeholder-glow" data-v-fccec26b><span class="placeholder mb-2 col-5" data-v-fccec26b></span></div><div class="placeholder-glow" data-v-fccec26b><span class="placeholder mb-2 col-7" data-v-fccec26b></span><span class="placeholder mb-2 col-7" data-v-fccec26b></span><span class="placeholder mb-2 col-6" data-v-fccec26b></span><span class="placeholder mb-2 col-8" data-v-fccec26b></span><span class="placeholder mb-2 col-8" data-v-fccec26b></span><span class="placeholder mb-2 col-10" data-v-fccec26b></span></div><h2 class="fs-5 border-bottom pb-2 mt-3" data-v-fccec26b>價格</h2><div class="placeholder-glow" data-v-fccec26b><div class="d-between align-items-center" data-v-fccec26b><span class="placeholder col p-3 rounded" data-v-fccec26b></span><span class="col-1 d-center" data-v-fccec26b>~</span><span class="placeholder col p-3 rounded" data-v-fccec26b></span></div><span class="placeholder col-12 p-2 rounded mt-3" data-v-fccec26b>篩選</span></div>',5),xe={class:"container-fluid product-list"},we=t(()=>e("h2",{class:"fs-3 mb-3"},"所有商品",-1)),ge={class:"d-flex mb-3 border rounded align-items-center bg-light flex-column flex-lg-row"},ye={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasFilter","aria-labelledby":"offcanvasFilterLabel"},ke={class:"offcanvas-header d-column pb-0"},Ce=t(()=>e("div",{class:"d-between w-100"},[e("h5",{class:"offcanvas-title",id:"offcanvasFilterLabel"}," 篩選商品 "),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),Pe={class:"input-group d-center align-items-center rounded-pill border bg-white w-100 my-2"},Ne={class:"offcanvas-body pt-0"},Te=t(()=>e("h2",{class:"fs-5 border-bottom pb-1 pt-2"},"分類",-1)),Le={class:"container-fluid"},Se={class:"row row-cols-3 row-cols-lg-1 row-cols-xl-2 row-cols-xxxl-3 g-2 my-2"},Ve={class:"form-check"},Ue=["value","id"],Ie=["for"],De=t(()=>e("label",{class:"form-check-label fs-5 border-bottom pb-2 w-100",for:"sortType"}," 排序方式 ",-1)),Fe=t(()=>e("option",{selected:"",disabled:"",value:""},"排序方式",-1)),We=t(()=>e("option",{value:"title"},"文字排序",-1)),Je=t(()=>e("option",{value:"asc"},"價格由低至高",-1)),Oe=t(()=>e("option",{value:"desc"},"價格由高到低",-1)),Be=[Fe,We,Je,Oe],Ke=t(()=>e("label",{for:"customRange1",class:"form-label fs-5 mt-3"},"價格",-1)),Re={class:"mb-3 d-center flex-column border-top pt-3"},Me=t(()=>e("div",{class:"d-flex"},[e("label",{for:"minPrice",class:"form-label mb-1 fs-small flex-grow-1 me-4"},"最低價格"),e("label",{for:"maxPrice",class:"form-label mb-1 fs-small flex-grow-1"},"最高價格")],-1)),ze={class:"d-flex"},Ee=t(()=>e("span",{class:"mx-1"},"~",-1)),je=U('<div class="placeholder-glow" data-v-fccec26b><span class="placeholder mb-2 col-8" data-v-fccec26b></span><span class="placeholder mb-2 col-6" data-v-fccec26b></span></div><div class="placeholder-glow" data-v-fccec26b><span class="placeholder mb-2 col-5" data-v-fccec26b></span></div><div class="placeholder-glow" data-v-fccec26b><span class="placeholder mb-2 col-7" data-v-fccec26b></span><span class="placeholder mb-2 col-7" data-v-fccec26b></span><span class="placeholder mb-2 col-6" data-v-fccec26b></span><span class="placeholder mb-2 col-8" data-v-fccec26b></span><span class="placeholder mb-2 col-8" data-v-fccec26b></span><span class="placeholder mb-2 col-10" data-v-fccec26b></span></div><h2 class="fs-5 border-bottom pb-2 mt-3" data-v-fccec26b>價格</h2><div class="placeholder-glow" data-v-fccec26b><div class="d-between align-items-center" data-v-fccec26b><span class="placeholder col p-3 rounded" data-v-fccec26b></span><span class="col-1 d-center" data-v-fccec26b>~</span><span class="placeholder col p-3 rounded" data-v-fccec26b></span></div><span class="placeholder col-12 p-2 rounded mt-3" data-v-fccec26b>篩選</span></div>',5),Ge={class:"xl-down-w-100 w-25 p-2 text-nowrap d-between px-3 px-xl-2"},Qe={class:"text-secondary xl-up-hide","data-bs-toggle":"offcanvas",href:"#offcanvasFilter",role:"button","aria-controls":"offcanvasFilter"},Ae={class:"text-secondary"},He={class:"flex-grow-1 d-between p-2 xl-down-hide"},qe={class:"d-flex align-items-center w-40 mb-0"},Xe=t(()=>e("label",{class:"form-check-label text-nowrap me-3",for:"sortType"}," 排序方式 ",-1)),Ye=t(()=>e("option",{selected:"",disabled:"",value:""},"排序方式",-1)),Ze=t(()=>e("option",{value:"title"},"文字排序",-1)),$e=t(()=>e("option",{value:"asc"},"價格由低至高",-1)),es=t(()=>e("option",{value:"desc"},"價格由高到低",-1)),ss=[Ye,Ze,$e,es],ls={class:"input-group d-center align-items-center rounded-pill border bg-white w-50"},os={class:"card"},as={class:"d-center"},cs=["src","alt","title"],ts={class:"card-body p-2 p-sm-3"},ns={class:"d-flex mb-3"},rs={class:"card-text card-text-cell fs-small text-secondary line-clamp-3 mb-1"},ds={key:0,class:"text-end mb-2 fs-5"},is=t(()=>e("button",{class:"btn btn-primary-median w-100"}," 加入購物車 ",-1)),ps={class:"row g-0"},ms={class:"col-5 col-md-4 col-lg-3 col-xxxl-2 d-center p-md-3 p-xxxl-0 align-items-center border-end"},fs=["src","alt","title"],bs={class:"col-7 col-md"},vs={class:"card-body h-100 px-1 px-md-2"},hs={class:"container-fluid h-100"},_s={class:"row h-100"},us={class:"col"},xs={class:"d-column"},ws={class:"d-flex mb-2 mb-md-3"},gs={class:"card-text card-text-row fs-small text-secondary line-clamp-2 line-clamp-md-5 mb-2 w-50 xl-down-w-100 mobile-w-100"},ys={class:"col-md-4 col-xxxl-3"},ks={class:"d-end flex-column h-100"},Cs={key:0,class:"text-end fs-4 mb-2"},Ps=t(()=>e("button",{class:"btn btn-primary-median w-100"}," 加入購物車 ",-1)),Ns={key:1,class:"text-center mt-5 pt-5"},Ts={key:1,class:"row row-cols-2 row-cols-md-3 row-cols-xxxl-4 g-3"},Ls=U('<div class="card" aria-hidden="true" data-v-fccec26b><div class="card-img-top bg-secondary" style="height:180px;" data-v-fccec26b></div><div class="card-body" data-v-fccec26b><h5 class="card-title placeholder-glow" data-v-fccec26b><span class="placeholder col-6" data-v-fccec26b></span></h5><p class="card-text placeholder-glow" data-v-fccec26b><span class="placeholder col-7" data-v-fccec26b></span><span class="placeholder col-4" data-v-fccec26b></span><span class="placeholder col-4" data-v-fccec26b></span><span class="placeholder col-6" data-v-fccec26b></span><span class="placeholder col-8" data-v-fccec26b></span></p><a class="btn btn-primary disabled placeholder col-6" aria-disabled="true" data-v-fccec26b></a></div></div>',1),Ss=[Ls],Vs={key:2,"aria-label":"Page navigation example",class:"my-3 d-end"},Us={class:"pagination"},Is=["onClick"];function Ds(k,o,L,l,I,C){const w=K("router-link"),r=K("font-awesome-icon");return a(),c(d,null,[e("nav",$,[e("ol",ee,[e("li",se,[p(w,{to:"/eStore/home",class:"text-underline-hover"},{default:T(()=>[_("首頁")]),_:1})]),le])]),e("div",oe,[e("div",ae,[e("div",ce,[e("div",te,[ne,l.productCategoryList.length>0?(a(),c(d,{key:0},[e("div",re,[e("p",{class:"text-secondary mt-2 mb-0 text-underline-hover",role:"button",onClick:o[0]||(o[0]=s=>l.filterCategory.splice(0))},[p(r,{icon:"fa-xmark"}),_("清除篩選條件 ")]),e("div",de,[(a(!0),c(d,null,u(l.productCategoryList,s=>(a(),c("div",{class:"col",key:s},[e("div",ie,[h(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=f=>l.filterCategory=f),value:s,id:s,name:"category",role:"button"},null,8,pe),[[M,l.filterCategory]]),e("label",{class:"form-check-label text-nowrap",role:"button",for:s},b(s),9,me)])]))),128))])]),fe,e("div",be,[ve,e("div",he,[h(e("input",{type:"number",class:"form-control form-control-sm",id:"minPrice","onUpdate:modelValue":o[2]||(o[2]=s=>l.minPrice=s),placeholder:"請輸入最低價格"},null,512),[[y,l.minPrice]]),_e,h(e("input",{type:"number",class:"form-control form-control-sm",id:"maxPrice","onUpdate:modelValue":o[3]||(o[3]=s=>l.maxPrice=s),placeholder:"請輸入最高價格"},null,512),[[y,l.maxPrice]])]),e("button",{class:"btn btn-primary-median mt-3",onClick:o[4]||(o[4]=(...s)=>l.filterPrice&&l.filterPrice(...s))}," 篩選 ")])],64)):(a(),c(d,{key:1},[ue],64))])]),e("div",{class:x(["col-lg pt-3 mobile-px-0",{"mb-4":l.pageCount<=1}])},[e("div",xe,[we,e("div",ge,[e("div",ye,[e("div",ke,[Ce,e("div",Pe,[h(e("input",{type:"text",class:"form-control rounded-pill border-0 ps-3",placeholder:"輸入商品關鍵字","onUpdate:modelValue":o[5]||(o[5]=s=>l.productKeyWord=s)},null,512),[[y,l.productKeyWord]]),p(r,{class:"px-3",icon:"fa-search",role:"button"})])]),e("div",Ne,[Te,l.productCategoryList.length>0?(a(),c(d,{key:0},[e("div",Le,[e("p",{class:"text-secondary mt-3 mb-0 text-underline-hover",role:"button",onClick:o[6]||(o[6]=s=>l.filterCategory.splice(0))},[p(r,{icon:"fa-xmark"}),_("清除篩選條件 ")]),e("div",Se,[(a(!0),c(d,null,u(l.productCategoryList,s=>(a(),c("div",{class:"col",key:s},[e("div",Ve,[h(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[7]||(o[7]=f=>l.filterCategory=f),value:s,id:s,name:"category",role:"button"},null,8,Ue),[[M,l.filterCategory]]),e("label",{class:"form-check-label text-nowrap",role:"button",for:s},b(s),9,Ie)])]))),128))])]),De,h(e("select",{id:"sortType",class:"form-select mt-2","onUpdate:modelValue":o[8]||(o[8]=s=>l.sortType=s)},Be,512),[[R,l.sortType]]),Ke,e("div",Re,[Me,e("div",ze,[h(e("input",{type:"number",class:"form-control form-control-sm",id:"minPrice","onUpdate:modelValue":o[9]||(o[9]=s=>l.minPrice=s),placeholder:"請輸入最低價格"},null,512),[[y,l.minPrice]]),Ee,h(e("input",{type:"number",class:"form-control form-control-sm",id:"maxPrice","onUpdate:modelValue":o[10]||(o[10]=s=>l.maxPrice=s),placeholder:"請輸入最高價格"},null,512),[[y,l.maxPrice]])]),e("button",{class:"btn btn-primary-median mt-3",onClick:o[11]||(o[11]=(...s)=>l.filterPrice&&l.filterPrice(...s))}," 篩選 ")])],64)):(a(),c(d,{key:1},[je],64))])]),e("div",Ge,[e("a",Qe,[p(r,{icon:"fa-gear",class:"me-2"}),_("篩選 ")]),e("span",Ae,[_(" 顯示方式 "),p(r,{role:"button",icon:"fa-border-all",class:x(["mx-2 showTypeIcon",{"text-primary":l.showType==="cell"}]),onClick:o[12]||(o[12]=s=>l.showType="cell")},null,8,["class"]),p(r,{role:"button",icon:"fa-list",class:x(["showTypeIcon ms-1",{"text-primary":l.showType==="row"}]),onClick:o[13]||(o[13]=s=>l.showType="row")},null,8,["class"])])]),e("div",He,[e("div",qe,[Xe,h(e("select",{id:"sortType",class:"form-select","onUpdate:modelValue":o[14]||(o[14]=s=>l.sortType=s)},ss,512),[[R,l.sortType]])]),e("div",ls,[h(e("input",{type:"text",class:"form-control rounded-pill border-0 ps-3",placeholder:"輸入商品關鍵字","onUpdate:modelValue":o[15]||(o[15]=s=>l.productKeyWord=s)},null,512),[[y,l.productKeyWord]]),p(r,{class:"px-3",icon:"fa-search",role:"button"})])])]),l.productList.length>0?(a(),c(d,{key:0},[l.showData.length>0?(a(),H(q,{key:0,name:"list",tag:"div",class:x({"row row-cols-2 row-cols-md-3 row-cols-xxxl-4 g-3":l.showType==="cell"})},{default:T(()=>[l.showType==="cell"?(a(!0),c(d,{key:0},u(l.showData,s=>(a(),c("div",{class:"col",key:s.id},[e("div",os,[e("div",as,[e("img",{src:s.imageUrl,class:"card-img-top product-img",alt:s.title,title:s.title},null,8,cs)]),e("div",ts,[p(w,{class:"card-title line-clamp-2 fs-6 fs-md-large text-underline-hover",to:`/eStore/productInfo/${s.id}`},{default:T(()=>[_(b(s.title),1)]),_:2},1032,["to"]),e("div",ns,[(a(),c(d,null,u(4,(f,P)=>p(r,{key:P,class:"fs-large m-0 text-warning",icon:"fa-star",role:"button"})),64))]),e("p",rs,b(s.description),1),s.price?(a(),c("p",ds," $ "+b(s.price.toLocaleString()),1)):V("",!0),is])])]))),128)):(a(!0),c(d,{key:1},u(l.showData,s=>(a(),c("div",{class:"card mb-3",key:s.id},[e("div",ps,[e("div",ms,[e("img",{src:s.imageUrl,alt:s.title,title:s.title,class:"card-img-top"},null,8,fs)]),e("div",bs,[e("div",vs,[e("div",hs,[e("div",_s,[e("div",us,[e("div",xs,[p(w,{class:"mb-2 line-clamp-2 fs-6 fs-md-large text-underline-hover",to:`/eStore/productInfo/${s.id}`},{default:T(()=>[_(b(s.title),1)]),_:2},1032,["to"]),e("div",ws,[(a(),c(d,null,u(4,(f,P)=>p(r,{key:P,class:"fs-large m-0 text-warning",icon:"fa-star",role:"button"})),64))]),e("p",gs,b(s.description),1)])]),e("div",ys,[e("div",ks,[s.price?(a(),c("p",Cs," $ "+b(s.price.toLocaleString()),1)):V("",!0),Ps])])])])])])])]))),128))]),_:1},8,["class"])):(a(),c("h2",Ns,[_(" 查無條件無結果 "),p(r,{class:"ms-2",icon:"fa-face-frown"})]))],64)):(a(),c("div",Ts,[(a(),c(d,null,u(8,s=>e("div",{class:"col",key:s},Ss)),64))])),l.pageCount>1?(a(),c("nav",Vs,[e("ul",Us,[e("li",{class:x(["page-item",{"d-none":l.nowPage===1}])},[e("a",{class:"page-link rounded-circle",onClick:o[16]||(o[16]=s=>--l.nowPage)},b("<<"))],2),(a(!0),c(d,null,u(l.pageCount,s=>(a(),c("li",{class:"page-item",key:s},[e("a",{class:x(["page-link rounded-circle",{active:l.nowPage===s}]),onClick:f=>l.nowPage=s},b(s),11,Is)]))),128)),e("li",{class:x(["page-item",{"d-none":l.nowPage===l.pageCount}])},[e("a",{class:"page-link rounded-circle",onClick:o[17]||(o[17]=s=>++l.nowPage)},b(">>"))],2)])])):V("",!0)])],2)])])],64)}const Js=Q(Z,[["render",Ds],["__scopeId","data-v-fccec26b"]]);export{Js as default};
