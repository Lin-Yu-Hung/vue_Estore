import{_ as L,r as k,o as d,c as u,g as I,h as o,i as c,j as g,T as D,a as A,u as F,k as T,l as V,m as O,n as B,q as x,t as _,b as t,F as M,x as b,y as m,z as P,p as R,f as z}from"./index-7c4ca542.js";import{M as E,F as J}from"./Footer-87502546.js";import{t as j}from"./util-e35cf16c.js";import{a as q}from"./api-1ae64448.js";import{e as G}from"./sweetAlert-aa2576e6.js";import{c as U}from"./cart-0c27510a.js";import{h as W}from"./bootstrap-23bcaaea.js";import{_ as C}from"./e-store-logo-4781a984.js";const H={setup(){const l=k(!1);return{menuVisible:l,showMenu:()=>{l.value=!0},hideMenu:()=>{l.value=!1}}}},K={key:0,class:"dropdown shadow card"};function Q(l,n,v,e,w,y){return d(),u("div",{class:"menu py-2 py-md-4",onMouseenter:n[0]||(n[0]=(...s)=>e.showMenu&&e.showMenu(...s)),onTouchend:n[1]||(n[1]=(...s)=>e.hideMenu&&e.hideMenu(...s)),onMouseleave:n[2]||(n[2]=(...s)=>e.hideMenu&&e.hideMenu(...s))},[I(l.$slots,"header",{},void 0,!0),o(D,{name:"custom-classes","enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut"},{default:c(()=>[e.menuVisible?(d(),u("div",K,[I(l.$slots,"menu",{},void 0,!0)])):g("",!0)]),_:3})],32)}const X=L(H,[["render",Q],["__scopeId","data-v-2b1d1972"]]);const Y={components:{DropDownMenu:X,MenuList:E,Footer:J},setup(l){const n=A(),v=F();T(()=>n.path,i=>{W("offcanvasNavbar")}),V();const e=U(),{cartItems:w,cartAmount:y,cartItemCount:s}=O(e),r=k([]),f=k(9);window.addEventListener("resize",i=>{window.innerWidth>992?f.value=9:f.value=6});const h=B(()=>r.value.reduce((i,a)=>(i[a.id]=a,i),{}));return(async()=>{try{const i=await q();r.value=JSON.parse(JSON.stringify(i.data.products))}catch{G("取得資料錯誤","請重新整理網頁或聯絡客服人員")}finally{}})(),x("productList",r),x("productListMap",h),x("pageItemCount",f),{productList:r,toggleStatus:j,cartItems:w,cartAmount:y,cartItemCount:s,cart:e,route:n,router:v}}},p=l=>(R("data-v-16a09991"),l=l(),z(),l),Z={class:"main-nav container rounded-pill bg-primary py-0 shadow"},$={class:"container-fluid"},tt={class:"row align-items-center"},et={class:"col col-lg-2 d-flex align-items-center"},ot={class:"offcanvas offcanvas-start text-bg-dark",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel"},st=p(()=>t("div",{class:"offcanvas-header"},[t("img",{class:"logo",src:C,alt:"logo"}),t("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),nt={class:"offcanvas-body"},at={class:"menuList"},lt={class:"dropdown-list"},ct={class:"pe-none"},it=p(()=>t("div",{class:"collapse multi-collapse",id:"productSetting"},null,-1)),rt=p(()=>t("img",{class:"logo",src:C,alt:"logo"},null,-1)),dt={class:"col-4 lg-down-hide"},ut={class:"nav"},_t=p(()=>t("ul",{class:"text-black ps-0 py-2 mb-0"},[t("li",{class:"border-bottom px-2 py-1 text-end"},"個人資料"),t("li",{class:"border-bottom px-2 py-1 text-end"},"登出")],-1)),mt={class:"col mobile-hide"},pt={class:"input-group d-center align-items-center rounded-pill border bg-white"},ft=p(()=>t("input",{type:"text",class:"form-control rounded-pill border-0 ps-3",placeholder:"輸入商品關鍵字"},null,-1)),ht={class:"col col-md-3 d-end align-items-center pe-md-5"},bt=p(()=>t("ul",{class:"profile ps-0 py-2 mb-0"},[t("li",{class:"border-bottom px-2 py-1 text-end"},"個人資料"),t("li",{class:"border-bottom px-2 py-1 text-end"},"登出")],-1)),vt={class:"position-relative pe-2"},gt={key:0,class:"position-absolute start-100 translate-middle badge rounded-pill bg-danger"},wt={class:"cartList pb-0"},yt={class:"d-flex align-items-center"},xt=["src","alt"],Mt={class:"card-body d-column p-0 pb-2"},kt={class:"d-between mb-2"},St={class:"card-title fs-small fs-lg-base mb-0"},It={class:"description text-secondary fs-small mb-2"},Lt={class:"text-end mb-0"},Ct={class:"d-column align-items-end p-2"},Nt={class:"mb-2"},Dt={class:"fs-5"},At={key:0,class:"main-bg"},Ft={class:"container content"};function Tt(l,n,v,e,w,y){const s=_("font-awesome-icon"),r=_("router-link"),f=_("MenuList"),h=_("DropDownMenu"),S=_("router-view"),i=_("Footer");return d(),u(M,null,[t("div",Z,[t("div",$,[t("div",tt,[t("div",et,[o(s,{class:"fs-5 text-white me-3 lg-up-hide",icon:"fa-bars",role:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar","aria-label":"Toggle navigation"}),t("div",ot,[st,t("div",nt,[o(f,null,{menu:c(()=>[t("ul",at,[t("li",null,[o(r,{class:"menu-link",to:"/eStore/home"},{default:c(()=>[o(s,{icon:"fa-home",role:"button"}),b("首頁")]),_:1})]),t("li",lt,[t("div",{class:"dropdown-title",onClick:n[0]||(n[0]=(...a)=>e.toggleStatus&&e.toggleStatus(...a)),"data-bs-toggle":"collapse","data-bs-target":"#productSetting","aria-expanded":"false","aria-controls":"productSetting"},[t("span",ct,[o(s,{class:"",icon:"fa-list",role:"button"}),b("商品列表 ")]),o(s,{class:"dropdown-arrow pe-none",icon:"fa-chevron-right"})]),it])])]),_:1})])]),rt]),t("div",dt,[t("ul",ut,[t("li",null,[o(r,{class:"menu-link",to:"/eStore/home"},{default:c(()=>[b("首頁")]),_:1})]),t("li",null,[o(h,null,{header:c(()=>[o(r,{class:"menu-link",to:"productList"},{default:c(()=>[b("商品列表")]),_:1})]),menu:c(()=>[_t]),_:1})])])]),t("div",mt,[t("div",pt,[ft,o(s,{class:"px-3",icon:"fa-search",role:"button"})])]),t("div",ht,[o(h,null,{header:c(()=>[o(s,{class:"fs-5 ms-3 ms-md-4 text-white",icon:"fa-user",role:"button"})]),menu:c(()=>[bt]),_:1}),o(h,null,{header:c(()=>[t("div",vt,[o(s,{class:"fs-5 ms-3 ms-md-4 text-white",icon:"fa-cart-shopping",role:"button"}),e.cartItems.length>0?(d(),u("span",gt,m(e.cartItemCount),1)):g("",!0)])]),menu:c(()=>[e.cartItems.length>0?(d(),u(M,{key:0},[t("div",wt,[(d(!0),u(M,null,P(e.cartItems,(a,N)=>(d(),u("div",{class:"card mb-2 border-0 border-bottom rounded-0",key:a.info.id},[t("div",yt,[t("img",{src:a.info.imageUrl,alt:a.info.title},null,8,xt),t("div",Mt,[t("div",kt,[t("h5",St,m(a.info.title),1),o(s,{onClick:Vt=>e.cart.delItem(N),icon:"fa-xmark",class:"del-btn m-0 text-secondary"},null,8,["onClick"])]),t("p",It,m(a.info.description),1),t("p",Lt," $ "+m(a.info.price.toLocaleString())+" * "+m(a.count),1)])])]))),128))]),t("div",Ct,[t("p",Nt,[b(" 總金額: "),t("span",Dt,"$ "+m(e.cartAmount.toLocaleString()),1)]),t("button",{type:"button",class:"btn btn-primary w-100",onClick:n[1]||(n[1]=a=>e.router.push("/eStore/cart"))}," 查看購物車 ")])],64)):g("",!0)]),_:1})])])])]),e.route.name==="home"?(d(),u("div",At)):g("",!0),t("div",Ft,[o(S)]),o(i)],64)}const qt=L(Y,[["render",Tt],["__scopeId","data-v-16a09991"]]);export{qt as default};
