import{_ as L,r as I,o as r,c as d,g as S,h as e,i as a,j as g,T as D,a as A,l as F,k as V,m as T,n as M,q as p,b as t,F as k,t as b,x as m,y as B,p as O,f as P}from"./index-782dd1fe.js";import{M as E,F as J}from"./Footer-28aaf6e6.js";import{t as R}from"./util-03711dca.js";import{a as $,e as j}from"./api-e462e9cd.js";import{c as q}from"./cart-413ff926.js";import{_ as C}from"./e-store-logo-4781a984.js";import"./bootstrap-147f0896.js";const z={setup(){const n=I(!1);return{menuVisible:n,showMenu:()=>{n.value=!0},hideMenu:()=>{n.value=!1}}}},G={key:0,class:"dropdown shadow card"};function U(n,l,f,s,w,y){return r(),d("div",{class:"menu py-2 py-md-4",onMouseenter:l[0]||(l[0]=(...o)=>s.showMenu&&s.showMenu(...o)),onMouseleave:l[1]||(l[1]=(...o)=>s.hideMenu&&s.hideMenu(...o))},[S(n.$slots,"header",{},void 0,!0),e(D,{name:"custom-classes","enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut"},{default:a(()=>[s.menuVisible?(r(),d("div",G,[S(n.$slots,"menu",{},void 0,!0)])):g("",!0)]),_:3})],32)}const W=L(z,[["render",U],["__scopeId","data-v-ea112c64"]]);const H={components:{DropDownMenu:W,MenuList:E,Footer:J},setup(n){const l=A();F();const f=q(),{cartItems:s,cartAmount:w,cartItemCount:y}=V(f),o=I([]),_=I(9);window.addEventListener("resize",i=>{window.innerWidth>992?_.value=9:_.value=6});const x=T(()=>o.value.reduce((i,v)=>(i[v.id]=v,i),{}));return(async()=>{try{const i=await $();o.value=JSON.parse(JSON.stringify(i.data.products))}catch{j("取得資料錯誤","請重新整理網頁或聯絡客服人員")}finally{}})(),M("productList",o),M("productListMap",x),M("pageItemCount",_),{productList:o,toggleStatus:R,cartItems:s,cartAmount:w,cartItemCount:y,cart:f,route:l}}},u=n=>(O("data-v-8b86bdf5"),n=n(),P(),n),K={class:"main-nav container rounded-pill bg-primary py-0 shadow"},Q={class:"container-fluid"},X={class:"row align-items-center"},Y={class:"col col-lg-2 d-flex align-items-center"},Z={class:"offcanvas offcanvas-start text-bg-dark",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel"},tt=u(()=>t("div",{class:"offcanvas-header"},[t("img",{class:"logo",src:C,alt:"logo"}),t("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),et={class:"offcanvas-body"},st={class:"menuList"},ot={class:"dropdown-list"},nt={class:"pe-none"},at=u(()=>t("div",{class:"collapse multi-collapse",id:"productSetting"},null,-1)),lt=u(()=>t("img",{class:"logo",src:C,alt:"logo"},null,-1)),ct={class:"col-4 lg-down-hide"},it={class:"nav"},rt=u(()=>t("ul",{class:"text-black ps-0 py-2 mb-0"},[t("li",{class:"border-bottom px-2 py-1 text-end"},"個人資料"),t("li",{class:"border-bottom px-2 py-1 text-end"},"登出")],-1)),dt={class:"col mobile-hide"},_t={class:"input-group d-center align-items-center rounded-pill border bg-white"},ut=u(()=>t("input",{type:"text",class:"form-control rounded-pill border-0 ps-3",placeholder:"輸入商品關鍵字"},null,-1)),pt={class:"col col-md-3 d-end align-items-center pe-md-5"},mt=u(()=>t("ul",{class:"profile ps-0 py-2 mb-0"},[t("li",{class:"border-bottom px-2 py-1 text-end"},"個人資料"),t("li",{class:"border-bottom px-2 py-1 text-end"},"登出")],-1)),ft={class:"position-relative pe-2"},bt={key:0,class:"position-absolute start-100 translate-middle badge rounded-pill bg-danger"},ht={class:"cartList pb-0"},vt={class:"d-flex align-items-center"},gt=["src","alt"],wt={class:"card-body d-column p-0 pb-2"},yt={class:"d-between mb-2"},xt={class:"card-title fs-small fs-lg-base mb-0"},Mt={class:"description text-secondary fs-small mb-2"},kt={class:"text-end mb-0"},It={class:"d-column align-items-end p-2"},St={class:"mb-2"},Lt={class:"fs-5"},Ct=u(()=>t("button",{type:"button",class:"btn btn-primary w-100"}," 立即結帳 ",-1)),Nt={key:0,class:"main-bg"},Dt={class:"container content"};function At(n,l,f,s,w,y){const o=p("font-awesome-icon"),_=p("router-link"),x=p("MenuList"),h=p("DropDownMenu"),i=p("router-view"),v=p("Footer");return r(),d(k,null,[t("div",K,[t("div",Q,[t("div",X,[t("div",Y,[e(o,{class:"fs-5 text-white me-3 lg-up-hide",icon:"fa-bars",role:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar","aria-label":"Toggle navigation"}),t("div",Z,[tt,t("div",et,[e(x,null,{menu:a(()=>[t("ul",st,[t("li",null,[e(_,{class:"menu-link",to:"home"},{default:a(()=>[e(o,{icon:"fa-home",role:"button"}),b("首頁")]),_:1})]),t("li",ot,[t("div",{class:"dropdown-title",onClick:l[0]||(l[0]=(...c)=>s.toggleStatus&&s.toggleStatus(...c)),"data-bs-toggle":"collapse","data-bs-target":"#productSetting","aria-expanded":"false","aria-controls":"productSetting"},[t("span",nt,[e(o,{class:"",icon:"fa-list",role:"button"}),b("商品列表 ")]),e(o,{class:"dropdown-arrow pe-none",icon:"fa-chevron-right"})]),at])])]),_:1})])]),lt]),t("div",ct,[t("ul",it,[t("li",null,[e(_,{class:"menu-link",to:"home"},{default:a(()=>[b("首頁")]),_:1})]),t("li",null,[e(h,null,{header:a(()=>[e(_,{class:"menu-link",to:"productList"},{default:a(()=>[b("商品列表")]),_:1})]),menu:a(()=>[rt]),_:1})])])]),t("div",dt,[t("div",_t,[ut,e(o,{class:"px-3",icon:"fa-search",role:"button"})])]),t("div",pt,[e(h,null,{header:a(()=>[e(o,{class:"fs-5 ms-3 ms-md-4 text-white",icon:"fa-user",role:"button"})]),menu:a(()=>[mt]),_:1}),e(h,null,{header:a(()=>[t("div",ft,[e(o,{class:"fs-5 ms-3 ms-md-4 text-white",icon:"fa-cart-shopping",role:"button"}),s.cartItems.length>0?(r(),d("span",bt,m(s.cartItemCount),1)):g("",!0)])]),menu:a(()=>[s.cartItems.length>0?(r(),d(k,{key:0},[t("div",ht,[(r(!0),d(k,null,B(s.cartItems,(c,N)=>(r(),d("div",{class:"card mb-2 border-0 border-bottom rounded-0",key:c.info.id},[t("div",vt,[t("img",{src:c.info.imageUrl,alt:c.info.title},null,8,gt),t("div",wt,[t("div",yt,[t("h5",xt,m(c.info.title),1),e(o,{onClick:Ft=>s.cart.delItem(N),icon:"fa-xmark",class:"del-btn m-0 text-secondary"},null,8,["onClick"])]),t("p",Mt,m(c.info.description),1),t("p",kt," $ "+m(c.info.price.toLocaleString())+" * "+m(c.count),1)])])]))),128))]),t("div",It,[t("p",St,[b(" 總金額: "),t("span",Lt,"$ "+m(s.cartAmount.toLocaleString()),1)]),Ct])],64)):g("",!0)]),_:1})])])])]),s.route.name==="home"?(r(),d("div",Nt)):g("",!0),t("div",Dt,[e(i)]),e(v)],64)}const Rt=L(H,[["render",At],["__scopeId","data-v-8b86bdf5"]]);export{Rt as default};
