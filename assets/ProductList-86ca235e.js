import{_ as q,r as _,E as A,t as E,a as H,y as K,b as L,o as t,c,d as e,h as r,i as f,F as i,B as w,C as x,w as h,v as k,n as g,H as R,G as X,I as Y,D as v,q as U,J as B,e as M,p as Z,k as $}from"./index-ab37e322.js";import{t as j}from"./translate-28289832.js";import{S as ee,a as se,A as ae}from"./autoplay-4cb38b12.js";import{c as oe}from"./cart-9fa1e1c9.js";import{_ as le}from"./filip-baotic-DV0mB2uJM34-unsplash-c9a2a6ed.js";const te="/vue_Estore/assets/nik-ads33nL7V4k-unsplash-bfc257bc.jpg";const ce={components:{Swiper:ee,SwiperSlide:se},setup(C){const o=_("cell"),V=_(""),a=_(""),F=(n,m)=>(m&&(n=n.sort((b,I)=>m==="desc"?I.price-b.price:m==="asc"?b.price-I.price:b.title-I.title)),n),J=oe(),P=n=>{J.addItem(n)},u=A("productList"),T=A("productCategoryList"),d=_([]),s=_(1);E(u,n=>d.value=JSON.parse(JSON.stringify(n)),{immediate:!0});const p=_([]),S=H();E([S,T],([n,m])=>{const b=n.params.category;!b||!j(b)?p.value=JSON.parse(JSON.stringify(m)):p.value=[j(b)]},{immediate:!0});const D=_(""),O=_(""),G=()=>{const n=parseInt(D.value),m=parseInt(O.value);if(isNaN(n)&&isNaN(m)){d.value=JSON.parse(JSON.stringify(u.value));return}d.value=u.value.filter(b=>!isNaN(n)&&!isNaN(m)?b.price>=n&&b.price<=m:isNaN(n)?b.price<=m:b.price>=n)},N=_([]),z=K(()=>{N.value=d.value.filter(m=>m.title.match(V.value)&&p.value.includes(m.category));const n=F(N.value,a.value);return N.value.length<y.value?n:n.slice(s.value*y.value-y.value,s.value*y.value)}),Q=K(()=>Math.ceil(N.value.length/y.value)),W=()=>window.innerWidth>=1600?16:window.innerWidth>=768?12:8,y=_(W());return window.addEventListener("resize",n=>{y.value=W()}),{productList:u,productCategoryList:T,sortType:a,showType:o,productKeyWord:V,showData:z,filterCategory:p,minPrice:D,maxPrice:O,filterPrice:G,filterProductList:d,pageCount:Q,nowPage:s,addToCart:P,modules:[ae]}}},l=C=>(Z("data-v-ba253e2c"),C=C(),$(),C),ne={"aria-label":"breadcrumb",class:"mt-3 border-bottom"},re={class:"breadcrumb"},de={class:"breadcrumb-item"},ie=l(()=>e("li",{class:"breadcrumb-item active","aria-current":"page"},"商品列表",-1)),pe={class:"container-fluid mb-3"},me={class:"row"},be={class:"col-12 px-xl-0"},ve=l(()=>e("img",{src:"https://www.jollybuy.com/act/Apple/images/kv-pc.webp",alt:"product",class:"h-100 w-100"},null,-1)),_e=l(()=>e("img",{src:"https://dlcdnwebimgs.asus.com/gain/3EF9B6B3-0408-42CE-9AA2-50B46B5B35C9/fwebp",alt:"product",class:"h-100 w-100"},null,-1)),he=l(()=>e("img",{src:"https://p2.bahamut.com.tw/B/2KU/22/96c1baf2e92dc1371779452e2119o8a5.JPG",alt:"product",class:"h-100 w-100"},null,-1)),ue={class:"col-xl-3 pt-3 px-0 xl-down-hide"},fe={class:"card shadow p-3"},we=l(()=>e("h2",{class:"fs-5 border-bottom pb-2"},"分類",-1)),xe={class:"container-fluid"},ge={class:"row row-cols-3 row-cols-lg-1 row-cols-xl-2 row-cols-xxxl-3 g-2 my-2"},ye={class:"form-check"},ke=["value","id"],Ce=["for"],Pe=l(()=>e("label",{for:"customRange1",class:"form-label fs-5 border-bottom pb-2 mt-3"},"價格",-1)),Se={class:"mb-3 d-center flex-column"},Te=l(()=>e("div",{class:"d-flex"},[e("label",{for:"minPrice",class:"form-label mb-1 fs-small flex-grow-1 me-4"},"最低價格"),e("label",{for:"maxPrice",class:"form-label mb-1 fs-small flex-grow-1"},"最高價格")],-1)),Ne={class:"d-flex"},Le=l(()=>e("span",{class:"mx-1"},"~",-1)),Ve=B('<div class="placeholder-glow" data-v-ba253e2c><span class="placeholder mb-2 col-8" data-v-ba253e2c></span><span class="placeholder mb-2 col-6" data-v-ba253e2c></span></div><div class="placeholder-glow" data-v-ba253e2c><span class="placeholder mb-2 col-5" data-v-ba253e2c></span></div><div class="placeholder-glow" data-v-ba253e2c><span class="placeholder mb-2 col-7" data-v-ba253e2c></span><span class="placeholder mb-2 col-7" data-v-ba253e2c></span><span class="placeholder mb-2 col-6" data-v-ba253e2c></span><span class="placeholder mb-2 col-8" data-v-ba253e2c></span><span class="placeholder mb-2 col-8" data-v-ba253e2c></span><span class="placeholder mb-2 col-10" data-v-ba253e2c></span></div><h2 class="fs-5 border-bottom pb-2 mt-3" data-v-ba253e2c>價格</h2><div class="placeholder-glow" data-v-ba253e2c><div class="d-between align-items-center" data-v-ba253e2c><span class="placeholder col p-3 rounded" data-v-ba253e2c></span><span class="col-1 d-center" data-v-ba253e2c>~</span><span class="placeholder col p-3 rounded" data-v-ba253e2c></span></div><span class="placeholder col-12 p-2 rounded mt-3" data-v-ba253e2c>篩選</span></div>',5),Ie=l(()=>e("img",{class:"w-100 mt-3 rounded border",src:le,alt:"product"},null,-1)),Ue=l(()=>e("img",{class:"w-100 mt-3 rounded border",src:te,alt:"product"},null,-1)),Be={class:"container-fluid product-list"},Fe=l(()=>e("h2",{class:"fs-3 mb-3"},"所有商品",-1)),Je={class:"d-flex mb-3 border rounded align-items-center bg-light flex-column flex-lg-row"},De={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasFilter","aria-labelledby":"offcanvasFilterLabel"},Oe={class:"offcanvas-header d-column pb-0"},We=l(()=>e("div",{class:"d-between w-100"},[e("h5",{class:"offcanvas-title",id:"offcanvasFilterLabel"}," 篩選商品 "),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),Ae={class:"input-group d-center align-items-center rounded-pill border bg-white w-100 my-2"},Ee={class:"offcanvas-body pt-0"},Ke=l(()=>e("h2",{class:"fs-5 border-bottom pb-1 pt-2"},"分類",-1)),Re={class:"container-fluid"},Me={class:"row row-cols-3 row-cols-lg-1 row-cols-xl-2 row-cols-xxxl-3 g-2 my-2"},je={class:"form-check"},Ge=["value","id"],ze=["for"],Qe=l(()=>e("label",{class:"form-check-label fs-5 border-bottom pb-2 w-100",for:"sortType"}," 排序方式 ",-1)),qe=l(()=>e("option",{selected:"",disabled:"",value:""},"排序方式",-1)),He=l(()=>e("option",{value:"title"},"文字排序",-1)),Xe=l(()=>e("option",{value:"asc"},"價格由低至高",-1)),Ye=l(()=>e("option",{value:"desc"},"價格由高到低",-1)),Ze=[qe,He,Xe,Ye],$e=l(()=>e("label",{for:"customRange1",class:"form-label fs-5 mt-3"},"價格",-1)),es={class:"mb-3 d-center flex-column border-top pt-3"},ss=l(()=>e("div",{class:"d-flex"},[e("label",{for:"minPrice",class:"form-label mb-1 fs-small flex-grow-1 me-4"},"最低價格"),e("label",{for:"maxPrice",class:"form-label mb-1 fs-small flex-grow-1"},"最高價格")],-1)),as={class:"d-flex"},os=l(()=>e("span",{class:"mx-1"},"~",-1)),ls=B('<div class="placeholder-glow" data-v-ba253e2c><span class="placeholder mb-2 col-8" data-v-ba253e2c></span><span class="placeholder mb-2 col-6" data-v-ba253e2c></span></div><div class="placeholder-glow" data-v-ba253e2c><span class="placeholder mb-2 col-5" data-v-ba253e2c></span></div><div class="placeholder-glow" data-v-ba253e2c><span class="placeholder mb-2 col-7" data-v-ba253e2c></span><span class="placeholder mb-2 col-7" data-v-ba253e2c></span><span class="placeholder mb-2 col-6" data-v-ba253e2c></span><span class="placeholder mb-2 col-8" data-v-ba253e2c></span><span class="placeholder mb-2 col-8" data-v-ba253e2c></span><span class="placeholder mb-2 col-10" data-v-ba253e2c></span></div><h2 class="fs-5 border-bottom pb-2 mt-3" data-v-ba253e2c>價格</h2><div class="placeholder-glow" data-v-ba253e2c><div class="d-between align-items-center" data-v-ba253e2c><span class="placeholder col p-3 rounded" data-v-ba253e2c></span><span class="col-1 d-center" data-v-ba253e2c>~</span><span class="placeholder col p-3 rounded" data-v-ba253e2c></span></div><span class="placeholder col-12 p-2 rounded mt-3" data-v-ba253e2c>篩選</span></div>',5),ts={class:"xl-down-w-100 w-25 p-2 text-nowrap d-between px-3 px-xl-2"},cs={class:"text-secondary xl-up-hide","data-bs-toggle":"offcanvas",href:"#offcanvasFilter",role:"button","aria-controls":"offcanvasFilter"},ns={class:"text-secondary"},rs={class:"flex-grow-1 d-between p-2 xl-down-hide"},ds={class:"d-flex align-items-center w-40 mb-0"},is=l(()=>e("label",{class:"form-check-label text-nowrap me-3",for:"sortType"}," 排序方式 ",-1)),ps=l(()=>e("option",{selected:"",disabled:"",value:""},"排序方式",-1)),ms=l(()=>e("option",{value:"title"},"文字排序",-1)),bs=l(()=>e("option",{value:"asc"},"價格由低至高",-1)),vs=l(()=>e("option",{value:"desc"},"價格由高到低",-1)),_s=[ps,ms,bs,vs],hs={class:"input-group d-center align-items-center rounded-pill border bg-white w-50"},us={class:"card"},fs={class:"d-center"},ws=["src","alt","title"],xs={class:"card-body p-2 p-sm-3"},gs={class:"d-flex mb-3"},ys={class:"card-text card-text-cell fs-small text-secondary line-clamp-3 mb-1"},ks={key:0,class:"text-end mb-2 fs-5"},Cs=["onClick"],Ps={class:"row g-0"},Ss={class:"col-5 col-md-4 col-lg-3 col-xxxl-2 d-center p-md-3 p-xxxl-0 align-items-center border-end"},Ts=["src","alt","title"],Ns={class:"col-7 col-md"},Ls={class:"card-body h-100 px-1 px-md-2"},Vs={class:"container-fluid h-100"},Is={class:"row h-100"},Us={class:"col"},Bs={class:"d-column"},Fs={class:"d-flex mb-2 mb-md-3"},Js={class:"card-text card-text-row fs-small text-secondary line-clamp-2 line-clamp-md-5 mb-2 w-50 xl-down-w-100 mobile-w-100"},Ds={class:"col-md-4 col-xxxl-3"},Os={class:"d-end flex-column h-100"},Ws={key:0,class:"text-end fs-4 mb-2"},As=["onClick"],Es={key:1,class:"text-center mt-5 pt-5"},Ks={key:1,class:"row row-cols-2 row-cols-md-3 row-cols-xxxl-4 g-3"},Rs=B('<div class="card" aria-hidden="true" data-v-ba253e2c><div class="card-img-top bg-secondary" style="height:180px;" data-v-ba253e2c></div><div class="card-body" data-v-ba253e2c><h5 class="card-title placeholder-glow" data-v-ba253e2c><span class="placeholder col-6" data-v-ba253e2c></span></h5><p class="card-text placeholder-glow" data-v-ba253e2c><span class="placeholder col-7" data-v-ba253e2c></span><span class="placeholder col-4" data-v-ba253e2c></span><span class="placeholder col-4" data-v-ba253e2c></span><span class="placeholder col-6" data-v-ba253e2c></span><span class="placeholder col-8" data-v-ba253e2c></span></p><a class="btn btn-primary disabled placeholder col-6" aria-disabled="true" data-v-ba253e2c></a></div></div>',1),Ms=[Rs],js={key:2,"aria-label":"Page navigation example",class:"my-3 d-end"},Gs={class:"pagination"},zs=["onClick"];function Qs(C,o,V,a,F,J){const P=L("router-link"),u=L("swiper-slide"),T=L("swiper"),d=L("font-awesome-icon");return t(),c(i,null,[e("nav",ne,[e("ol",re,[e("li",de,[r(P,{to:"/eStore/home",class:"text-underline-hover"},{default:f(()=>[w("首頁")]),_:1})]),ie])]),e("div",pe,[e("div",me,[e("div",be,[r(T,{autoplay:{delay:5e3,disableOnInteraction:!1},modules:a.modules,class:"mainAd rounded border mt-3"},{default:f(()=>[r(u,null,{default:f(()=>[ve]),_:1}),r(u,null,{default:f(()=>[_e]),_:1}),r(u,null,{default:f(()=>[he]),_:1})]),_:1},8,["modules"])]),e("div",ue,[e("div",fe,[we,a.productCategoryList.length>0?(t(),c(i,{key:0},[e("div",xe,[e("p",{class:"text-secondary mt-2 mb-0 text-underline-hover",role:"button",onClick:o[0]||(o[0]=s=>a.filterCategory.splice(0))},[r(d,{icon:"fa-xmark"}),w("清除篩選條件 ")]),e("div",ge,[(t(!0),c(i,null,x(a.productCategoryList,s=>(t(),c("div",{class:"col",key:s},[e("div",ye,[h(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[1]||(o[1]=p=>a.filterCategory=p),value:s,id:s,name:"category",role:"button"},null,8,ke),[[M,a.filterCategory]]),e("label",{class:"form-check-label text-nowrap",role:"button",for:s},v(s),9,Ce)])]))),128))])]),Pe,e("div",Se,[Te,e("div",Ne,[h(e("input",{type:"number",class:"form-control form-control-sm",id:"minPrice","onUpdate:modelValue":o[2]||(o[2]=s=>a.minPrice=s),placeholder:"請輸入最低價格"},null,512),[[k,a.minPrice]]),Le,h(e("input",{type:"number",class:"form-control form-control-sm",id:"maxPrice","onUpdate:modelValue":o[3]||(o[3]=s=>a.maxPrice=s),placeholder:"請輸入最高價格"},null,512),[[k,a.maxPrice]])]),e("button",{class:"btn btn-primary-median mt-3",onClick:o[4]||(o[4]=(...s)=>a.filterPrice&&a.filterPrice(...s))}," 篩選 ")])],64)):(t(),c(i,{key:1},[Ve],64))]),Ie,Ue]),e("div",{class:g(["col-lg pt-3 mobile-px-0",{"mb-4":a.pageCount<=1}])},[e("div",Be,[Fe,e("div",Je,[e("div",De,[e("div",Oe,[We,e("div",Ae,[h(e("input",{type:"text",class:"form-control rounded-pill border-0 ps-3",placeholder:"輸入商品關鍵字","onUpdate:modelValue":o[5]||(o[5]=s=>a.productKeyWord=s)},null,512),[[k,a.productKeyWord]]),r(d,{class:"px-3",icon:"fa-search",role:"button"})])]),e("div",Ee,[Ke,a.productCategoryList.length>0?(t(),c(i,{key:0},[e("div",Re,[e("p",{class:"text-secondary mt-3 mb-0 text-underline-hover",role:"button",onClick:o[6]||(o[6]=s=>a.filterCategory.splice(0))},[r(d,{icon:"fa-xmark"}),w("清除篩選條件 ")]),e("div",Me,[(t(!0),c(i,null,x(a.productCategoryList,s=>(t(),c("div",{class:"col",key:s},[e("div",je,[h(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":o[7]||(o[7]=p=>a.filterCategory=p),value:s,id:s,name:"category",role:"button"},null,8,Ge),[[M,a.filterCategory]]),e("label",{class:"form-check-label text-nowrap",role:"button",for:s},v(s),9,ze)])]))),128))])]),Qe,h(e("select",{id:"sortType",class:"form-select mt-2","onUpdate:modelValue":o[8]||(o[8]=s=>a.sortType=s)},Ze,512),[[R,a.sortType]]),$e,e("div",es,[ss,e("div",as,[h(e("input",{type:"number",class:"form-control form-control-sm",id:"minPrice","onUpdate:modelValue":o[9]||(o[9]=s=>a.minPrice=s),placeholder:"請輸入最低價格"},null,512),[[k,a.minPrice]]),os,h(e("input",{type:"number",class:"form-control form-control-sm",id:"maxPrice","onUpdate:modelValue":o[10]||(o[10]=s=>a.maxPrice=s),placeholder:"請輸入最高價格"},null,512),[[k,a.maxPrice]])]),e("button",{class:"btn btn-primary-median mt-3","data-bs-dismiss":"offcanvas","aria-label":"Close",onClick:o[11]||(o[11]=(...s)=>a.filterPrice&&a.filterPrice(...s))}," 篩選 ")])],64)):(t(),c(i,{key:1},[ls],64))])]),e("div",ts,[e("a",cs,[r(d,{icon:"fa-gear",class:"me-2"}),w("篩選 ")]),e("span",ns,[w(" 顯示方式 "),r(d,{role:"button",icon:"fa-border-all",class:g(["mx-2 showTypeIcon",{"text-primary":a.showType==="cell"}]),onClick:o[12]||(o[12]=s=>a.showType="cell")},null,8,["class"]),r(d,{role:"button",icon:"fa-list",class:g(["showTypeIcon ms-1",{"text-primary":a.showType==="row"}]),onClick:o[13]||(o[13]=s=>a.showType="row")},null,8,["class"])])]),e("div",rs,[e("div",ds,[is,h(e("select",{id:"sortType",class:"form-select","onUpdate:modelValue":o[14]||(o[14]=s=>a.sortType=s)},_s,512),[[R,a.sortType]])]),e("div",hs,[h(e("input",{type:"text",class:"form-control rounded-pill border-0 ps-3",placeholder:"輸入商品關鍵字","onUpdate:modelValue":o[15]||(o[15]=s=>a.productKeyWord=s)},null,512),[[k,a.productKeyWord]]),r(d,{class:"px-3",icon:"fa-search",role:"button"})])])]),a.productList.length>0?(t(),c(i,{key:0},[a.showData.length>0?(t(),X(Y,{key:0,name:"list",tag:"div",class:g({"row row-cols-2 row-cols-md-3 row-cols-xxxl-4 g-3":a.showType==="cell"})},{default:f(()=>[a.showType==="cell"?(t(!0),c(i,{key:0},x(a.showData,s=>(t(),c("div",{class:"col",key:s.id},[e("div",us,[e("div",fs,[e("img",{src:s.imageUrl,class:"card-img-top product-img",alt:s.title,title:s.title},null,8,ws)]),e("div",xs,[r(P,{class:"card-title line-clamp-2 fs-6 fs-md-large text-underline-hover",to:`/eStore/productInfo/${s.id}`},{default:f(()=>[w(v(s.title),1)]),_:2},1032,["to"]),e("div",gs,[(t(),c(i,null,x(4,(p,S)=>r(d,{key:S,class:"fs-large m-0 text-warning",icon:"fa-star",role:"button"})),64))]),e("p",ys,v(s.description),1),s.price?(t(),c("p",ks," $ "+v(s.price.toLocaleString()),1)):U("",!0),e("button",{class:"btn btn-primary-median w-100",onClick:p=>a.addToCart(s)}," 加入購物車 ",8,Cs)])])]))),128)):(t(!0),c(i,{key:1},x(a.showData,s=>(t(),c("div",{class:"card mb-3",key:s.id},[e("div",Ps,[e("div",Ss,[e("img",{src:s.imageUrl,alt:s.title,title:s.title,class:"card-img-top"},null,8,Ts)]),e("div",Ns,[e("div",Ls,[e("div",Vs,[e("div",Is,[e("div",Us,[e("div",Bs,[r(P,{class:"mb-2 line-clamp-2 fs-6 fs-md-large text-underline-hover",to:`/eStore/productInfo/${s.id}`},{default:f(()=>[w(v(s.title),1)]),_:2},1032,["to"]),e("div",Fs,[(t(),c(i,null,x(4,(p,S)=>r(d,{key:S,class:"fs-large m-0 text-warning",icon:"fa-star",role:"button"})),64))]),e("p",Js,v(s.description),1)])]),e("div",Ds,[e("div",Os,[s.price?(t(),c("p",Ws," $ "+v(s.price.toLocaleString()),1)):U("",!0),e("button",{class:"btn btn-primary-median w-100",onClick:p=>a.addToCart(s)}," 加入購物車 ",8,As)])])])])])])])]))),128))]),_:1},8,["class"])):(t(),c("h2",Es,[w(" 查無條件無結果 "),r(d,{class:"ms-2",icon:"fa-face-frown"})]))],64)):(t(),c("div",Ks,[(t(),c(i,null,x(8,s=>e("div",{class:"col",key:s},Ms)),64))])),a.pageCount>1?(t(),c("nav",js,[e("ul",Gs,[e("li",{class:g(["page-item",{"d-none":a.nowPage===1}])},[e("a",{class:"page-link rounded-circle",onClick:o[16]||(o[16]=s=>--a.nowPage)},v("<<"))],2),(t(!0),c(i,null,x(a.pageCount,s=>(t(),c("li",{class:"page-item",key:s},[e("a",{class:g(["page-link rounded-circle",{active:a.nowPage===s}]),onClick:p=>a.nowPage=s},v(s),11,zs)]))),128)),e("li",{class:g(["page-item",{"d-none":a.nowPage===a.pageCount}])},[e("a",{class:"page-link rounded-circle",onClick:o[17]||(o[17]=s=>++a.nowPage)},v(">>"))],2)])])):U("",!0)])],2)])])],64)}const $s=q(ce,[["render",Qs],["__scopeId","data-v-ba253e2c"]]);export{$s as default};
